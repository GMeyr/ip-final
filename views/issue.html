<!DOCTYPE html>
<html>
  <head>
   <meta charset="UTF-8">
    <title>Issue Prism</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js">

    </script>
    <style>
      .allprocomments {
        display: inline-block;
        float: left;
        position: absolute;
        width: 400px;
        margin-top: 70px;
        margin right: 30px;
      }
      .allconcomments {
        display: inline-block;
        float: right;
        margin-left: 500px;
        position: absolute;
        margin-top: 70px;
        width: 400px;

      }
      #commentButton {
        z-index: 1;
        float: left;
        position: absolute;
      }
      .comment {
        display: block;
        position: relative;
        margin: 5px;
        padding: 0px 10px;
        min-height: 150px;
        min-width: 230px;
        background-color: white;
      }
      .addCommentForm {
        position: relative;
        background-color: #E3E3E3;
        float: left;
        clear: both;
        margin: 50px 0px 0px 170px;
        padding: 5px;
        border: 1px solid black;
        border-radius: 10px;
      }

      .votediv p {
        margin-top: 10px;
        margin-left: 100px;
      }

      .all_comment_right {
  display: inline;
  float: right;
  width: 80%;
  margin-left: 10px;
  padding: 10px;

  border: 2px solid black;
  border-radius: 10%;
}


     .stat_comment_right {
       display: inline;
       float: right;
       width: 80%;
       margin-left: 10px;
       padding: 10px;
       border: 2px solid #FF6600;
       border-radius: 10%;
     }
     .rat_comment_right {
       display: inline;
       float: right;
       width: 80%;
       margin-left: 10px;
       padding: 10px;
       border: 2px solid #FFC90E;
       border-radius: 10%;
     }
     .moral_comment_right {
       display: inline;
       float: right;
       width: 80%;
       margin-left: 10px;
       padding: 10px;
       border: 2px solid #00B28F;
       border-radius: 10%;
     }
     .anec_comment_right {
       display: inline;
       float: right;
       width: 80%;
       margin-left: 10px;
       padding: 10px;
       border: 2px solid #A349A4;
       border-radius: 10%;
     }

.comment_left {
  display: inline;
  margin: 1px solid black;
  z-index: 1;
  position: absolute;
  margin-top: 14px;
}
      .up_vote_button {
        width: 50px;
        height: 40px;
      }

      .down_vote_button {
        width: 50px;
        height: 40px;
      }



      button {
        position: inherit;
        float: left;

      }

      #navbar {
        position: relative;
        float: right;
      }

      #main_content{
        margin-left: 50px;
      }
      #issueContent {
        margin-left: 150px;
      }
      #prism {
        margin-left: 100px;
      }

      .h2_Statistical {
        color: #FF6600;
      }
      .h2_Rational {
        color: #FFC90E;
      }
      .h2_Moral {
        color: #00B28F;
      }
      .h2_Anecdotal {
        color: #A349A4;
      }
    </style>
  </head>

  <body>

    <div id="navbar">
    <h1 class="logo">issueprism</h1>
      <p><a href="/">Home</a> &nbsp; <a href="/addissue">Add Issue</a></p>
    </div>
    <div id="issueContent">
      <div class="issueTypeScope"></div>
      <div class="issueTitle"></div>
      <div class="issueText"></div>

    </div>
    <div id="prism">
      <img src="http://oi62.tinypic.com/2rz5nv8.jpg" alt="Smiley face">
    </div>

<div id="main_content">
     <div>
       <div class="allprocomments">
         Pro Comments
       </div>

       <div class="allconcomments">
         Con Comments
       </div>

     </div>

<script>
'strict mode'

$(function (){

  var idPath = "/id/?_id=" + pathArray;
  $.ajax({
    type: "GET",
    url: idPath,
    success: function(data) {
     var dataObj = {
                      _id: JSON.stringify(data._id).replace(/\"/g, ""),
                      title: JSON.stringify(data.title).replace(/\"/g, ""),
                      text: JSON.stringify(data.text).replace(/\"/g, ""),
                      type: JSON.stringify(data.type).replace(/\"/g, ""),
                      scope: JSON.stringify(data.scope).replace(/\"/g, "")
                    };

        $('.issueTypeScope').html("<p>" + dataObj.type + " : " + dataObj.scope + "</p>");
        $('.issueTitle').html("<h2>" + dataObj.title + "</h2>");
        $('.issueText').html("<p>" + dataObj.text + "</p>");

    }
  });
});

// GET pro and con comments

// GET pro comments
$(function (){

var comments_url = "/getcomments/?_id=" + pathArray + "&side=pro";
$.ajax({
type: "GET",
url: comments_url,
success: function(data) {
window.pro_data = data;
$(function (){

  var comments_url = "/getcomments/?_id=" + pathArray + "&side=con";
  $.ajax({
    type: "GET",
    url: comments_url,
    success: function(data) {
      window.con_data = data;

      function button (btype, name, id, big) {
      var str = "";
      str += "<input type='button' class='" + btype + "_vote_button'";
      str += " id='" +  id +  "' value='" + name + "'>";
      return str;}

    function addTypeButtons(id){

      var buttons =  button("stat", "Stat", id) + button("rat", "Logic", id) + button('moral', "Moral", id) + button('anec', "Anec.", id);
      return buttons;}

    function addVoteButtons(id){
      var buttons = button("up", "Up", id) + "<br>" + button("down", "Down", id);
      return buttons;
    }

    function comment_HTML (side, type, x){

      var arr = type + "CommentArr";
      var id = window[side][arr][x]._id;
      var str = "<div class='comment'>";
      str += "<div class='comment_left'><div id='vote_updown" + id + "'>" + addVoteButtons(id) + "</div></div>";
      str += "<div class='" + type + "_comment_right'><p class='comment_text'>" + window[side][arr][x].text + "</p>";
      str += "<p class='ref'><a href='" + window[side][arr][x].ref + "'>" + window[side][arr][x].ref + "</a></p></div>";
      str += "<div class='votediv'><div id='votediv" + id + "'>'";
      str += "<p>";
      str += addTypeButtons(id);
      str += "</p></div></div></div>";
      var re = new RegExp("\'", "g");
      str = str.replace(re, "");
      return str;}

    function renderComments (side, type){
      var h2_type = "";
      switch (type) {
        case "stat":
          h2_type = "Statistical";
          break;
        case "rat":
          h2_type = "Rational";
          break;
        case "moral":
          h2_type = "Moral";
            break;
          case "anec":
            h2_type = "Anecdotal";
            break;
          default:
            h2_type = "All"
      }
      var h2_type_class = "h2_" + h2_type;
      var mainArr = type + "CommentArr";
      var data_side = side + "_data";
      var h2_side = "";
      if (side === "pro") h2_side = "Pro";
      else h2_side = "Con";
      var comments_str = "<h2>" + h2_side + " Comments <span class='" + h2_type_class + "'>&mdash;&nbsp; " + h2_type + "</span></h2>";
   console.log("length: " +  window[data_side][mainArr].length);
      for (var i = 0; i < window[data_side][mainArr].length; i++) {
        var passalong = i;
        comments_str += comment_HTML(data_side, type, passalong);
        }
        return comments_str;
      }


//Begin working with comments
   $(".allprocomments").html(renderComments("pro", "all"));
   $(".allconcomments").html(renderComments("con", "all"));
   $('.stat_vote_button').click(function(){
      console.log('clicked stat_vote_button with _id: ' + this.id); //attaching an id to the buttons I generated and using that to keep the comments straight was an intereseting problem I solved.
      var sv_url = "/addtypevote/?_id=" + this.id + "&vote=statistical";
      var sv_id = this.id;
      $.ajax({
        type: "GET",
        url: sv_url,
        success: function(data) {
          var current_votediv = "#votediv" + sv_id;
          console.log(sv_id, "and votediv current = " + current_votediv);
          $(current_votediv).html("<p class='typevoted_p'>Type vote recieved!</p>");
        }
      });
  });
  $('.rat_vote_button').click(function(){
      console.log('clicked rat_vote_button with _id: ' + this.id); //attaching an id to the buttons I generated and using that to keep the comments straight was an intereseting problem I solved.
      var sv_url = "/addtypevote/?_id=" + this.id + "&vote=rational";
      var sv_id = this.id;
      $.ajax({
        type: "GET",
        url: sv_url,
        success: function(data) {
          var current_votediv = "#votediv" + sv_id;
          console.log(sv_id, "and votediv current = " + current_votediv);
          $(current_votediv).html("<p class='typevoted_p'>Type vote recieved!</p>");
        }
      });
  });
  $('.moral_vote_button').click(function(){
      console.log('clicked moral_vote_button with _id: ' + this.id); //attaching an id to the buttons I generated and using that to keep the comments straight was an intereseting problem I solved.
      var sv_url = "/addtypevote/?_id=" + this.id + "&vote=moral";
      var sv_id = this.id;
      $.ajax({
        type: "GET",
        url: sv_url,
        success: function(data) {
          var current_votediv = "#votediv" + sv_id;
          console.log(sv_id, "and votediv current = " + current_votediv);
          $(current_votediv).html("<p class='typevoted_p'>Type vote recieved!</p>");
        }
      });
  });
  $('.anec_vote_button').click(function(){
      console.log('clicked anec_vote_button with _id: ' + this.id); //attaching an id to the buttons I generated and using that to keep the comments straight was an intereseting problem I solved.
      var sv_url = "/addtypevote/?_id=" + this.id + "&vote=anecdotal";
      var sv_id = this.id;
      $.ajax({
        type: "GET",
        url: sv_url,
        success: function(data) {
          var current_votediv = "#votediv" + sv_id;
          console.log(sv_id, "and votediv current = " + current_votediv);
          $(current_votediv).html("<p class='typevoted_p'>Type vote recieved!</p>");
        }
      });
  });
  $('.up_vote_button').click(function(){
      console.log('clicked up_vote_button with _id: ' + this.id); //attaching an id to the buttons I generated and using that to keep the comments straight was an intereseting problem I solved.
      var sv_url = "/addvote/?_id=" + this.id + "&vote=up";
      var sv_id = this.id;
      $.ajax({
        type: "GET",
        url: sv_url,
        success: function(data) {
          var current_votediv = "#vote_updown" + sv_id;
          console.log(sv_id, "and votediv current = " + current_votediv);
          $(current_votediv).html("<p><br><br>Got it!</p>");
        }
      });
  });
  $('.down_vote_button').click(function(){
      console.log('clicked down_vote_button with _id: ' + this.id); //attaching an id to the buttons I generated and using that to keep the comments straight was an intereseting problem I solved.
      var sv_url = "/addvote/?_id=" + this.id + "&vote=down";
      var sv_id = this.id;
      $.ajax({
        type: "GET",
        url: sv_url,
        success: function(data) {
          var current_votediv = "#vote_updown" + sv_id;
          console.log(sv_id, "and votediv current = " + current_votediv);
          $(current_votediv).html("<p><br><br>Got it!</p>");
        }
      });
  });

   //activate view buttons
$('#allButton').click(function(){
       current_view = "allCommentArr";
       $('.allprocomments').html(null);
       $('.allconcomments').html(null);
       $(".allprocomments").html(renderComments("pro", "all"));
       $(".allconcomments").html(renderComments("con", "all"));

       $('.stat_vote_button').click(function(){
          console.log('clicked stat_vote_button with _id: ' + this.id); //attaching an id to the buttons I generated and using that to keep the comments straight was an intereseting problem I solved.
          var sv_url = "/addtypevote/?_id=" + this.id + "&vote=statistical";
          var sv_id = this.id;
          $.ajax({
            type: "GET",
            url: sv_url,
            success: function(data) {
              var current_votediv = "#votediv" + sv_id;
              console.log(sv_id, "and votediv current = " + current_votediv);
              $(current_votediv).html("<p class='typevoted_p'>Type vote recieved!</p>");
            }
          });
      });
      $('.rat_vote_button').click(function(){
          console.log('clicked rat_vote_button with _id: ' + this.id); //attaching an id to the buttons I generated and using that to keep the comments straight was an intereseting problem I solved.
          var sv_url = "/addtypevote/?_id=" + this.id + "&vote=rational";
          var sv_id = this.id;
          $.ajax({
            type: "GET",
            url: sv_url,
            success: function(data) {
              var current_votediv = "#votediv" + sv_id;
              console.log(sv_id, "and votediv current = " + current_votediv);
              $(current_votediv).html("<p class='typevoted_p'>Type vote recieved!</p>");
            }
          });
      });
      $('.moral_vote_button').click(function(){
          console.log('clicked moral_vote_button with _id: ' + this.id); //attaching an id to the buttons I generated and using that to keep the comments straight was an intereseting problem I solved.
          var sv_url = "/addtypevote/?_id=" + this.id + "&vote=moral";
          var sv_id = this.id;
          $.ajax({
            type: "GET",
            url: sv_url,
            success: function(data) {
              var current_votediv = "#votediv" + sv_id;
              console.log(sv_id, "and votediv current = " + current_votediv);
              $(current_votediv).html("<p class='typevoted_p'>Type vote recieved!</p>");
            }
          });
      });
      $('.anec_vote_button').click(function(){
          console.log('clicked anec_vote_button with _id: ' + this.id); //attaching an id to the buttons I generated and using that to keep the comments straight was an intereseting problem I solved.
          var sv_url = "/addtypevote/?_id=" + this.id + "&vote=anecdotal";
          var sv_id = this.id;
          $.ajax({
            type: "GET",
            url: sv_url,
            success: function(data) {
              var current_votediv = "#votediv" + sv_id;
              console.log(sv_id, "and votediv current = " + current_votediv);
              $(current_votediv).html("<p class='typevoted_p'>Type vote recieved!</p>");
            }
          });
      });
   });
   $('.up_vote_button').click(function(){
       console.log('clicked up_vote_button with _id: ' + this.id); //attaching an id to the buttons I generated and using that to keep the comments straight was an intereseting problem I solved.
       var sv_url = "/addvote/?_id=" + this.id + "&vote=up";
       var sv_id = this.id;
       $.ajax({
         type: "GET",
         url: sv_url,
         success: function(data) {
           var current_votediv = "#vote_updown" + sv_id;
           console.log(sv_id, "and votediv current = " + current_votediv);
           $(current_votediv).html("<p><br><br>Got it!</p>");
         }
       });
   });
   $('.down_vote_button').click(function(){
       console.log('clicked down_vote_button with _id: ' + this.id); //attaching an id to the buttons I generated and using that to keep the comments straight was an intereseting problem I solved.
       var sv_url = "/addvote/?_id=" + this.id + "&vote=down";
       var sv_id = this.id;
       $.ajax({
         type: "GET",
         url: sv_url,
         success: function(data) {
           var current_votediv = "#vote_updown" + sv_id;
           console.log(sv_id, "and votediv current = " + current_votediv);
           $(current_votediv).html("<p><br><br>Got it!</p>");
         }
       });
   });

$('#statButton').click(function(){
    current_view = "statCommentArr";
    $('.allprocomments').html(null);
    $('.allconcomments').html(null);
    $(".allprocomments").html(renderComments("pro", "stat"));
    $(".allconcomments").html(renderComments("con", "stat"));

    $('.stat_vote_button').click(function(){
       console.log('clicked stat_vote_button with _id: ' + this.id); //attaching an id to the buttons I generated and using that to keep the comments straight was an intereseting problem I solved.
       var sv_url = "/addtypevote/?_id=" + this.id + "&vote=statistical";
       var sv_id = this.id;
       $.ajax({
         type: "GET",
         url: sv_url,
         success: function(data) {
           var current_votediv = "#votediv" + sv_id;
           console.log(sv_id, "and votediv current = " + current_votediv);
           $(current_votediv).html("<p class='typevoted_p'>Type vote recieved!</p>");
         }
       });
   });
   $('.rat_vote_button').click(function(){
       console.log('clicked rat_vote_button with _id: ' + this.id); //attaching an id to the buttons I generated and using that to keep the comments straight was an intereseting problem I solved.
       var sv_url = "/addtypevote/?_id=" + this.id + "&vote=rational";
       var sv_id = this.id;
       $.ajax({
         type: "GET",
         url: sv_url,
         success: function(data) {
           var current_votediv = "#votediv" + sv_id;
           console.log(sv_id, "and votediv current = " + current_votediv);
           $(current_votediv).html("<p class='typevoted_p'>Type vote recieved!</p>");
         }
       });
   });
   $('.moral_vote_button').click(function(){
       console.log('clicked moral_vote_button with _id: ' + this.id); //attaching an id to the buttons I generated and using that to keep the comments straight was an intereseting problem I solved.
       var sv_url = "/addtypevote/?_id=" + this.id + "&vote=moral";
       var sv_id = this.id;
       $.ajax({
         type: "GET",
         url: sv_url,
         success: function(data) {
           var current_votediv = "#votediv" + sv_id;
           console.log(sv_id, "and votediv current = " + current_votediv);
           $(current_votediv).html("<p class='typevoted_p'>Type vote recieved!</p>");
         }
       });
   });
   $('.anec_vote_button').click(function(){
       console.log('clicked anec_vote_button with _id: ' + this.id); //attaching an id to the buttons I generated and using that to keep the comments straight was an intereseting problem I solved.
       var sv_url = "/addtypevote/?_id=" + this.id + "&vote=anecdotal";
       var sv_id = this.id;
       $.ajax({
         type: "GET",
         url: sv_url,
         success: function(data) {
           var current_votediv = "#votediv" + sv_id;
           console.log(sv_id, "and votediv current = " + current_votediv);
           $(current_votediv).html("<p class='typevoted_p'>Type vote recieved!</p>");
         }
       });
   });

$('.up_vote_button').click(function(){
    console.log('clicked up_vote_button with _id: ' + this.id); //attaching an id to the buttons I generated and using that to keep the comments straight was an intereseting problem I solved.
    var sv_url = "/addvote/?_id=" + this.id + "&vote=up";
    var sv_id = this.id;
    $.ajax({
      type: "GET",
      url: sv_url,
      success: function(data) {
        var current_votediv = "#vote_updown" + sv_id;
        console.log(sv_id, "and votediv current = " + current_votediv);
        $(current_votediv).html("<p><br><br>Got it!</p>");
      }
    });
});
$('.down_vote_button').click(function(){
    console.log('clicked down_vote_button with _id: ' + this.id); //attaching an id to the buttons I generated and using that to keep the comments straight was an intereseting problem I solved.
    var sv_url = "/addvote/?_id=" + this.id + "&vote=down";
    var sv_id = this.id;
    $.ajax({
      type: "GET",
      url: sv_url,
      success: function(data) {
        var current_votediv = "#vote_updown" + sv_id;
        console.log(sv_id, "and votediv current = " + current_votediv);
        $(current_votediv).html("<p><br><br>Got it!</p>");
      }
    });
});
});

$('#ratButton').click(function(){
    current_view = "statCommentArr";
    $('.allprocomments').html(null);
    $('.allconcomments').html(null);
    $(".allprocomments").html(renderComments("pro", "rat"));
    $(".allconcomments").html(renderComments("con", "rat"));

    $('.stat_vote_button').click(function(){
       console.log('clicked stat_vote_button with _id: ' + this.id); //attaching an id to the buttons I generated and using that to keep the comments straight was an intereseting problem I solved.
       var sv_url = "/addtypevote/?_id=" + this.id + "&vote=statistical";
       var sv_id = this.id;
       $.ajax({
         type: "GET",
         url: sv_url,
         success: function(data) {
           var current_votediv = "#votediv" + sv_id;
           console.log(sv_id, "and votediv current = " + current_votediv);
           $(current_votediv).html("<p class='typevoted_p'>Type vote recieved!</p>");
         }
       });
   });
   $('.rat_vote_button').click(function(){
       console.log('clicked rat_vote_button with _id: ' + this.id); //attaching an id to the buttons I generated and using that to keep the comments straight was an intereseting problem I solved.
       var sv_url = "/addtypevote/?_id=" + this.id + "&vote=rational";
       var sv_id = this.id;
       $.ajax({
         type: "GET",
         url: sv_url,
         success: function(data) {
           var current_votediv = "#votediv" + sv_id;
           console.log(sv_id, "and votediv current = " + current_votediv);
           $(current_votediv).html("<p class='typevoted_p'>Type vote recieved!</p>");
         }
       });
   });
   $('.moral_vote_button').click(function(){
       console.log('clicked moral_vote_button with _id: ' + this.id); //attaching an id to the buttons I generated and using that to keep the comments straight was an intereseting problem I solved.
       var sv_url = "/addtypevote/?_id=" + this.id + "&vote=moral";
       var sv_id = this.id;
       $.ajax({
         type: "GET",
         url: sv_url,
         success: function(data) {
           var current_votediv = "#votediv" + sv_id;
           console.log(sv_id, "and votediv current = " + current_votediv);
           $(current_votediv).html("<p class='typevoted_p'>Type vote recieved!</p>");
         }
       });
   });
   $('.anec_vote_button').click(function(){
       console.log('clicked anec_vote_button with _id: ' + this.id); //attaching an id to the buttons I generated and using that to keep the comments straight was an intereseting problem I solved.
       var sv_url = "/addtypevote/?_id=" + this.id + "&vote=anecdotal";
       var sv_id = this.id;
       $.ajax({
         type: "GET",
         url: sv_url,
         success: function(data) {
           var current_votediv = "#votediv" + sv_id;
           console.log(sv_id, "and votediv current = " + current_votediv);
           $(current_votediv).html("<p class='typevoted_p'>Type vote recieved!</p>");
         }
       });
   });

$('.up_vote_button').click(function(){
    console.log('clicked up_vote_button with _id: ' + this.id); //attaching an id to the buttons I generated and using that to keep the comments straight was an intereseting problem I solved.
    var sv_url = "/addvote/?_id=" + this.id + "&vote=up";
    var sv_id = this.id;
    $.ajax({
      type: "GET",
      url: sv_url,
      success: function(data) {
        var current_votediv = "#vote_updown" + sv_id;
        console.log(sv_id, "and votediv current = " + current_votediv);
        $(current_votediv).html("<p><br><br>Got it!</p>");
      }
    });
});
$('.down_vote_button').click(function(){
    console.log('clicked down_vote_button with _id: ' + this.id); //attaching an id to the buttons I generated and using that to keep the comments straight was an intereseting problem I solved.
    var sv_url = "/addvote/?_id=" + this.id + "&vote=down";
    var sv_id = this.id;
    $.ajax({
      type: "GET",
      url: sv_url,
      success: function(data) {
        var current_votediv = "#vote_updown" + sv_id;
        console.log(sv_id, "and votediv current = " + current_votediv);
        $(current_votediv).html("<p><br><br>Got it!</p>");
      }
    });
});
});

$('#moralButton').click(function(){
    current_view = "moralCommentArr";
    $('.allprocomments').html(null);
    $('.allconcomments').html(null);
    $(".allprocomments").html(renderComments("pro", "moral"));
    $(".allconcomments").html(renderComments("con", "moral"));

    $('.stat_vote_button').click(function(){
       console.log('clicked stat_vote_button with _id: ' + this.id); //attaching an id to the buttons I generated and using that to keep the comments straight was an intereseting problem I solved.
       var sv_url = "/addtypevote/?_id=" + this.id + "&vote=statistical";
       var sv_id = this.id;
       $.ajax({
         type: "GET",
         url: sv_url,
         success: function(data) {
           var current_votediv = "#votediv" + sv_id;
           console.log(sv_id, "and votediv current = " + current_votediv);
           $(current_votediv).html("<p class='typevoted_p'>Type vote recieved!</p>");
         }
       });
   });
   $('.rat_vote_button').click(function(){
       console.log('clicked rat_vote_button with _id: ' + this.id); //attaching an id to the buttons I generated and using that to keep the comments straight was an intereseting problem I solved.
       var sv_url = "/addtypevote/?_id=" + this.id + "&vote=rational";
       var sv_id = this.id;
       $.ajax({
         type: "GET",
         url: sv_url,
         success: function(data) {
           var current_votediv = "#votediv" + sv_id;
           console.log(sv_id, "and votediv current = " + current_votediv);
           $(current_votediv).html("<p class='typevoted_p'>Type vote recieved!</p>");
         }
       });
   });
   $('.moral_vote_button').click(function(){
       console.log('clicked moral_vote_button with _id: ' + this.id); //attaching an id to the buttons I generated and using that to keep the comments straight was an intereseting problem I solved.
       var sv_url = "/addtypevote/?_id=" + this.id + "&vote=moral";
       var sv_id = this.id;
       $.ajax({
         type: "GET",
         url: sv_url,
         success: function(data) {
           var current_votediv = "#votediv" + sv_id;
           console.log(sv_id, "and votediv current = " + current_votediv);
           $(current_votediv).html("<p class='typevoted_p'>Type vote recieved!</p>");
         }
       });
   });
   $('.anec_vote_button').click(function(){
       console.log('clicked anec_vote_button with _id: ' + this.id); //attaching an id to the buttons I generated and using that to keep the comments straight was an intereseting problem I solved.
       var sv_url = "/addtypevote/?_id=" + this.id + "&vote=anecdotal";
       var sv_id = this.id;
       $.ajax({
         type: "GET",
         url: sv_url,
         success: function(data) {
           var current_votediv = "#votediv" + sv_id;
           console.log(sv_id, "and votediv current = " + current_votediv);
           $(current_votediv).html("<p class='typevoted_p'>Type vote recieved!</p>");
         }
       });
   });

$('.up_vote_button').click(function(){
    console.log('clicked up_vote_button with _id: ' + this.id); //attaching an id to the buttons I generated and using that to keep the comments straight was an intereseting problem I solved.
    var sv_url = "/addvote/?_id=" + this.id + "&vote=up";
    var sv_id = this.id;
    $.ajax({
      type: "GET",
      url: sv_url,
      success: function(data) {
        var current_votediv = "#vote_updown" + sv_id;
        console.log(sv_id, "and votediv current = " + current_votediv);
        $(current_votediv).html("<p><br><br>Got it!</p>");
      }
    });
});
$('.down_vote_button').click(function(){
    console.log('clicked down_vote_button with _id: ' + this.id); //attaching an id to the buttons I generated and using that to keep the comments straight was an intereseting problem I solved.
    var sv_url = "/addvote/?_id=" + this.id + "&vote=down";
    var sv_id = this.id;
    $.ajax({
      type: "GET",
      url: sv_url,
      success: function(data) {
        var current_votediv = "#vote_updown" + sv_id;
        console.log(sv_id, "and votediv current = " + current_votediv);
        $(current_votediv).html("<p><br><br>Got it!</p>");
      }
    });
});
});

$('#anecButton').click(function(){
    current_view = "anecCommentArr";
    $('.allprocomments').html(null);
    $('.allconcomments').html(null);
    $(".allprocomments").html(renderComments("pro", "anec"));
    $(".allconcomments").html(renderComments("con", "anec"));

    $('.stat_vote_button').click(function(){
       console.log('clicked stat_vote_button with _id: ' + this.id); //attaching an id to the buttons I generated and using that to keep the comments straight was an intereseting problem I solved.
       var sv_url = "/addtypevote/?_id=" + this.id + "&vote=statistical";
       var sv_id = this.id;
       $.ajax({
         type: "GET",
         url: sv_url,
         success: function(data) {
           var current_votediv = "#votediv" + sv_id;
           console.log(sv_id, "and votediv current = " + current_votediv);
           $(current_votediv).html("<p class='typevoted_p'>Type vote recieved!</p>");
         }
       });
   });
   $('.rat_vote_button').click(function(){
       console.log('clicked rat_vote_button with _id: ' + this.id); //attaching an id to the buttons I generated and using that to keep the comments straight was an intereseting problem I solved.
       var sv_url = "/addtypevote/?_id=" + this.id + "&vote=rational";
       var sv_id = this.id;
       $.ajax({
         type: "GET",
         url: sv_url,
         success: function(data) {
           var current_votediv = "#votediv" + sv_id;
           console.log(sv_id, "and votediv current = " + current_votediv);
           $(current_votediv).html("<p class='typevoted_p'>Type vote recieved!</p>");
         }
       });
   });
   $('.moral_vote_button').click(function(){
       console.log('clicked moral_vote_button with _id: ' + this.id); //attaching an id to the buttons I generated and using that to keep the comments straight was an intereseting problem I solved.
       var sv_url = "/addtypevote/?_id=" + this.id + "&vote=moral";
       var sv_id = this.id;
       $.ajax({
         type: "GET",
         url: sv_url,
         success: function(data) {
           var current_votediv = "#votediv" + sv_id;
           console.log(sv_id, "and votediv current = " + current_votediv);
           $(current_votediv).html("<p class='typevoted_p'>Type vote recieved!</p>");
         }
       });
   });
   $('.anec_vote_button').click(function(){
       console.log('clicked anec_vote_button with _id: ' + this.id); //attaching an id to the buttons I generated and using that to keep the comments straight was an intereseting problem I solved.
       var sv_url = "/addtypevote/?_id=" + this.id + "&vote=anecdotal";
       var sv_id = this.id;
       $.ajax({
         type: "GET",
         url: sv_url,
         success: function(data) {
           var current_votediv = "#votediv" + sv_id;
           console.log(sv_id, "and votediv current = " + current_votediv);
           $(current_votediv).html("<p class='typevoted_p'>Type vote recieved!</p>");
         }
       });
   });

$('.up_vote_button').click(function(){
    console.log('clicked up_vote_button with _id: ' + this.id); //attaching an id to the buttons I generated and using that to keep the comments straight was an intereseting problem I solved.
    var sv_url = "/addvote/?_id=" + this.id + "&vote=up";
    var sv_id = this.id;
    $.ajax({
      type: "GET",
      url: sv_url,
      success: function(data) {
        var current_votediv = "#vote_updown" + sv_id;
        console.log(sv_id, "and votediv current = " + current_votediv);
        $(current_votediv).html("<p><br><br>Got it!</p>");
      }
    });
});
$('.down_vote_button').click(function(){
    console.log('clicked down_vote_button with _id: ' + this.id); //attaching an id to the buttons I generated and using that to keep the comments straight was an intereseting problem I solved.
    var sv_url = "/addvote/?_id=" + this.id + "&vote=down";
    var sv_id = this.id;
    $.ajax({
      type: "GET",
      url: sv_url,
      success: function(data) {
        var current_votediv = "#vote_updown" + sv_id;
        console.log(sv_id, "and votediv current = " + current_votediv);
        $(current_votediv).html("<p><br><br>Got it!</p>");
      }
    });
});
});


//don't put functions that depend on comment data below this line
    }
  });
});
}});
});
</script>


        <input type="button" id="allButton" value="All">
        <input type="button" id="statButton" value="Statistical">
        <input type="button" id="ratButton" value="Rational">
        <input type="button" id="moralButton" value="Moral">
        <input type="button" id="anecButton" value="Anecdotal">
        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
        <input type="button" id="commentButton" value="Add New Comment">
<div class="addCommentForm">
<form id="newCommentForm" action="/comment/" method="post">
  <p>Side:<br>
    <input type="radio" name="commside" value="pro" checked>Pro
    <input type="radio" name="commside" value="con">Con
  </p>
  <p>Comment:<br>
    <input type="text" name="commtext" ><br>
    <span class="helpertext">Make sure it's a question</span>
  </p>
  <p>Reference Link:<br>
    <input type="text" name="commref" ><br>
  </p>
  <p>Comment Type:<br>
    <input type="radio" name="commtype" value="statistical" checked>Statistical
    <input type="radio" name="commtype" value="rational">Rational
    <input type="radio" name="commtype" value="moral">Moral
    <input type="radio" name="commtype" value="anecdotal">Anecdotal
  </p>
  <p><input type="submit" value="Submit Comment" /></p>
</form>


    <script>
// global variables
      var current_view = "allCommentArr";
      var pathArray = window.location.search.slice(5);
// Comment Form Functionality
      $('#newCommentForm').append('<input type="hidden" name="commissue_id" value="' + pathArray + '" />');

      $('.addCommentForm').hide();

      $('#commentButton').click(function(){
        $('.addCommentForm').toggle();
      });

    </script>
          </div>
  </body>
</html>
